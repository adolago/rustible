# Stanley Configuration Template
# Generated by Rustible deployment

server:
  host: "0.0.0.0"
  port: {{ api_port }}
  workers: {{ stanley_workers }}
  timeout: {{ stanley_worker_timeout }}
  
database:
  url: "postgresql://{{ postgres_user }}:{{ postgres_password }}@localhost:5432/{{ postgres_db }}"
  pool_size: 20
  max_overflow: 10
  
redis:
  url: "redis://{% if redis_password %}:{{ redis_password }}@{% endif %}localhost:6379/0"
  
logging:
  level: "{{ stanley_log_level }}"
  format: "json"
  file: "{{ stanley_logs_dir }}/stanley.log"
  max_size: "100MB"
  backup_count: 5
  
api_keys:
  openbb: "{{ openbb_api_key }}"
  sec_identity: "{{ sec_identity }}"
  
features:
  enable_dark_pool: true
  enable_institutional: true
  enable_commodities: true
  enable_options: true
  enable_research: true
  enable_portfolio: true
  
security:
  rate_limit: 1000  # requests per hour
  cors_origins:
    - "http://localhost:{{ gui_port }}"
    - "https://{{ stanley_domain | default('stanley.example.com') }}"
  
monitoring:
  prometheus_enabled: true
  prometheus_port: 9090
  metrics_path: "/metrics"
  
backup:
  enabled: {{ stanley_backup_enabled | lower }}
  retention_days: {{ backup_retention_days | default(30) }}
  s3_bucket: "{{ backup_s3_bucket | default('stanley-backups') }}"
  
cache:
  ttl: 3600  # 1 hour
  max_size: "1GB"
  
data:
  data_dir: "{{ stanley_data_dir }}"
  cache_dir: "{{ stanley_data_dir }}/cache"
  temp_dir: "{{ stanley_data_dir }}/temp"
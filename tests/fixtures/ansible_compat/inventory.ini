# INI Inventory Compatibility Test
# Tests: basic hosts, groups, host vars, group vars, children

# Ungrouped hosts
localhost ansible_connection=local ansible_python_interpreter=/usr/bin/python3

[webservers]
web1 ansible_host=192.168.1.10 ansible_user=deploy http_port=80
web2 ansible_host=192.168.1.11 ansible_user=deploy http_port=8080
web3 ansible_host=192.168.1.12 ansible_user=webadmin ansible_ssh_private_key_file=~/.ssh/web_key

[webservers:vars]
nginx_version=1.18
server_type=nginx
max_connections=1000

[databases]
db1 ansible_host=192.168.1.20 ansible_user=dbadmin db_port=5432 db_role=primary
db2 ansible_host=192.168.1.21 ansible_user=dbadmin db_port=5432 db_role=replica

[databases:vars]
db_engine=postgresql
db_version=14

[appservers]
app1 ansible_host=192.168.1.30 app_port=5000
app2 ansible_host=192.168.1.31 app_port=5001
app3 ansible_host=192.168.1.32 app_port=5002

[appservers:vars]
app_user=apprunner
app_environment=production

# Group of groups (children)
[production:children]
webservers
databases
appservers

[production:vars]
environment=production
log_level=warn

[staging]
staging1 ansible_host=192.168.2.10 environment=staging

[staging:vars]
environment=staging
log_level=debug

# Another nested group
[all_servers:children]
production
staging

# Hosts with become
[privileged]
web1
db1
app1

[privileged:vars]
ansible_become=true
ansible_become_method=sudo
ansible_become_user=root

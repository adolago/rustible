# PostgreSQL configuration
# Generated by Rustible E2E tests

# Connection Settings
listen_addresses = '*'
port = {{ db_port | default(5432) }}
max_connections = {{ max_connections | default(100) }}

# Memory Settings
shared_buffers = {{ shared_buffers | default('256MB') }}
work_mem = {{ work_mem | default('4MB') }}
maintenance_work_mem = 128MB

# WAL Settings
wal_level = replica
fsync = on
synchronous_commit = on
wal_buffers = 16MB

# Query Tuning
effective_cache_size = 768MB
random_page_cost = 1.1
default_statistics_target = 100

# Logging
log_destination = 'stderr'
logging_collector = on
log_directory = '/var/log/postgresql'
log_filename = 'postgresql-%Y-%m-%d.log'
log_rotation_age = 1d
log_rotation_size = 100MB
log_min_duration_statement = 1000

# Locale
lc_messages = 'en_US.UTF-8'
lc_monetary = 'en_US.UTF-8'
lc_numeric = 'en_US.UTF-8'
lc_time = 'en_US.UTF-8'
